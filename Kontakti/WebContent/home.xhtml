<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"    
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f = "http://java.sun.com/jsf/core"
      xmlns:p="http://primefaces.org/ui">
      
	
    <h:head>
    	<title>Kontakti Naslov</title>
    </h:head>
    <h:body bgcolor="red">
    
    
 
    <h:form id="podaci" >
    	<p:inputTextarea id="url"  valueChangeListener = "#{helloBean.getFileName}" >Ovdje URL dodati</p:inputTextarea>
    	<p:commandButton width="30%" id="veza" value="Učitaj" action="#{helloBean.populateList()}"
    	actionListener="#{helloBean.update}" ><f:ajax execute="veza" render="tabela" event="click"/></p:commandButton>
        
    	
     >

<h2>Vaša tabela sa kontaktima PRIMEFACES</h2>
    	  	<h:panelGroup id="sadrz">
    	  	<p:dataTable text-align="center" border="3" width="100%" value="#{helloBean.getKontakti()}" var="kontakt" id="tabela">
    	  	
    	  	<p:column>
    	  	<f:facet name="header">Delete</f:facet>
    	  	<p:commandButton  value="Delete"  actionListener="#{helloBean.delete}" ><f:ajax  render="tabela" /></p:commandButton>
    	  	</p:column>
    	  	
    	  	 <p:column>    				
               <f:facet name = "header">Ime</f:facet>    				
               #{kontakt.osoba.ime}
            </p:column>
            
            <p:column>    				
               <f:facet name = "header">Prezime</f:facet>    				
               #{kontakt.osoba.prezime}
            </p:column>
            
            <p:column>    				
               <f:facet name = "header">Id</f:facet>    				
               #{kontakt.osoba.id}
            </p:column>
            
            <p:column>
            <f:facet name="header">Adresa</f:facet>
            	#{kontakt.getFirstAddress()}
            </p:column>
            
            <p:column>
            <f:facet name="header">Brojevi telefona</f:facet>
            	<p:dataTable value="#{kontakt.brojeviTelefona}" var="telefon">
            	<p:column>
            	<f:facet name="header">Broj</f:facet>
            		#{telefon.brojTelefona}
            	</p:column>
            	<p:column>
            	<f:facet name="header">Tip</f:facet>
            		#{telefon.deduceType()}
            	</p:column>
            	</p:dataTable>
            	
            
            </p:column>
    	  	
    	  	</p:dataTable>
    	  	</h:panelGroup>
	  	    	  	    	  	    	  	
        
     </h:form>
    </h:body>
</html>
